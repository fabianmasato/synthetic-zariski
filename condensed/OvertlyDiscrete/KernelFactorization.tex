\begin{lemma}
  Whenever $g:B\to C$ a map in $\Boole$, we have 
  $(-)\circ g : Sp(C) \to Sp(B)$ has image 
  $Sp(B/Ker(g))$. 
\end{lemma}
\begin{proof}
  Note that $Sp(B/Ker(g))\subseteq Sp(B)$  is given by those $x:Sp(B)$ such that whenever $g(b) =_C 0$, we have $x(b) =_2 0$. 
  Thus the image of $(-)\circ g$ is a subset of $Sp(B/Ker(g))$.
  Conversely, suppose that $x$ lies in $Sp(B/Ker(g))$. 
  Then $((-)\circ g)^{-1}(x)$ defines a closed subset of $C$. 
\end{proof}

\begin{lemma}
  Let $f:A \to B$ be a map in $\Boole$. 
  Then for any $x:Sp(A)$, we have that $\Sigma_{y:Sp(B)} y\circ f = x$ is equal to 
  $Sp(B/f(Ker(x)))$. 
\end{lemma}
\begin{proof}
  Any $y:Sp(B)$ lies in $Sp(B/f(Ker(x))$ iff whenever $a:A$ is such that $x(a) = 0$, then $y(f(a)) = 0$. 
  Clearly if $y\circ f = x$, then $y(f(a)) = 0$ whenever $x(a) = 0$. 
  Now suppose $y$ lies in $Sp(B/f(Ker(x)))$. 
  We claim that then $y\circ f = x$. 
\end{proof}


\begin{theorem}\label{FormalSurjectionsAreSurjections}
  Let $f:A\to B$ be a map of countably presented Boolean algebras. 
  If $f$ is injective, then the corresponding map $(\cdot) \circ f : Sp(B) \to Sp(A)$ is surjective. 
\end{theorem}

\begin{proof}
  Assume $f$ injective and let $x:Sp(A)$.
  By \Cref{FiberConstruction}, we have that $\left(\sum\limits_{y:Sp(B)} y\circ f = x \right) = Sp(B/R) $
  for $R=f(G)$ for some countable $G\subseteq A$ with $x(g) = 0$ for all $g\in G$. 
  By propositional completeness and \Cref{SpectrumEmptyIff01Equal}, 
  it's sufficient to show that $0\neq_{B/R}1$. 
  Note that $0=_{B/R} 1$ iff 
  $1 =_B \bigvee R_0$ for some $R_0\subseteq R$ finite. 
  But then $$1 = \bigvee f(G_0) = f(\bigvee  G_0)$$ for some $G_0\subseteq G$ finite. 
  And as $f$ is injective, $\bigvee G_0 = 1$. 
  However, 
  $$
  x(\bigvee G_0) = 
  x(\bigvee_{g\in G_0} g ) = \bigvee_{g \in G_0} x(g) = \bigvee_{g\in G_0} 0 = 0$$
  And as $x(1) = 1$, we get a contradiction. Therefore $0\neq_{B/R} 1$ as required. 
\end{proof}  
The converse to the above theorem is true as well, regardless of propositional completeness:
\begin{lemma}\label{SurjectionsAreFormalSurjections}
If $f:A\to B$ is a map in $\Boole$ and $(\cdot) \circ f :Sp(B) \to Sp(A)$ is surjective, 
$f$ is injective. 
\end{lemma}
\begin{proof}
  Suppose precomposition with $f$ is surjective. 
  Let $a:A$ be such that $f(a)= 0$. 
  By assumption, for every $x:A\to 2$, there is a $y:B\to 2$ with $y\circ f = x$. 
  Consequentely $x(a) = y(f(a)) = y(0) = 0$. 
  So $x(a) = 0$ for every $x:Sp(A)$. 
  Thus $Sp(A) = Sp(A/\{a\})$, and as $Sp$ is an embedding, 
  $A \simeq A/\{a\}$, and $a = 0$ in $A$. 
  So whenever $f(a) = 0$, we have $a=0$. Thus $f$ is injective. 
\end{proof}


\begin{lemma}\label{BoolePushouts}
  Countably presented Boolean algebras are closed under pushout. 
\end{lemma} 
\begin{proof}
  Let $A,B,C:\Boole$, and suppose $f:A\to B, g:A \to C$ are Boolean morphisms. 
  Let $G_A, G_B,G_C$ be the underlying countable sets of generators for $B,C$ and 
  let $R_A,R_B,R_C$ be the underlying countable sets of relations. 
  Consider $P$ the Boolean algebra generated by $G_B\sqcup G_C$ under the relations 
  $R_B\cup R_C \cup F$ where $F$ is the set of expressions $f(a)-g(a), a\in G_A$.
  
  Note that as the generators of $B$ are included in those of $P$, 
  and all relations of $B$ are included in those of $P$, there is a map $h:B\to P$. 
  Similarly there is a map $i:C\to P$. 
  We now claim that the following is a pushout square:
  \begin{equation}\begin{tikzcd}
    A \arrow[r,"f"] \arrow[d,"g"] & B \arrow[d,"h"]\\
    C \arrow[r,"i"] & P
  \end{tikzcd}\end{equation}  
  Suppose $\beta:B \to X, \gamma:C\to X$ are such that $\beta\circ f = \gamma \circ h$. 
  $\beta,\gamma$ then induce maps on the generators of $P$. 
  These maps respect $F$ as $\beta\circ f=\gamma\circ h$, and they must respect $R_B,R_C$ as they are maps out of $B,C$. 
  Therefore, $\beta,\gamma$ induce a map $e:P\to X$, such that 
  $e(b) = \beta(b)$ for $b:G_B$ and $e(c)=\gamma(c)$ for $c:G_C$. 
  Furthermore, any map $P\to X$ with this property must agree with $e$ on all the generators of $P$, 
  and therefore equal $e$. Thus $e$ is the unique extension $P\to X$. 
  Thus $P$ the above square is indeed a pushout. 
\end{proof}

For some proofs in this paper, 
\rednote{(right now the counter's at two)}
we'd like a very concrete description of the fiber of a map of Stone spaces. 
The following construction turns out to be particularly useful. 
\begin{lemma}\label{FiberConstruction}
  Let $A,B:\Boole$, let $G$ be an explicit countable set of generators for $A$, and let 
  $f:A \to B, x:A\to 2$. 
  Define the countable set 
  \begin{equation}
    G' = \{a | a\in G, x(a) = 0\} \cup \{\neg a | a \in G, x(a) = 1\}
  \end{equation} 
  For $R = f(G')$,
%  Then we can construct a countable set $R\subseteq B$ such that 
  the pushout of $f$ and $x$ is given by $B/R$. 
\end{lemma}  
\begin{proof}
We consider the following pullback in the category of Stone spaces:
  \begin{equation}\begin{tikzcd}
    \sum\limits_{y:Sp(B)} y\circ f = x \arrow[d] \arrow[r] \arrow["\lrcorner"{pos=0.125}, phantom, dr] 
    & \top \arrow[d,"x"]\\
    Sp(B) \arrow[r,"(\cdot) \circ f"] & Sp(A)
  \end{tikzcd}  \end{equation}
Dual to this square, we have the following pushout in the category of Boolean algebras,
where $Sp(P) \simeq  (\sum\limits_{y:Sp(B)} y \circ f = x)$:
  \begin{equation}\begin{tikzcd}
    A \arrow[d,"x"'] \arrow[r,hook,"f"] \arrow[rd,phantom,"\ulcorner"{pos=0.125}] & B\arrow[d]\\
    2 \arrow[r] & P
  \end{tikzcd}\end{equation} 
  Following \Cref{BoolePushouts}, 
  the pushout $P$ is given by $B/R$ with $R$ the relations $f(a) -x(a)$ 
  where $a$ ranges over the generators of $A$.
  Note that $x(a) \in \{0,1\}$. 
  If $x(a)=0$, then $f(a)-x(a) = f(a)$, 
  and if $x(a) = 1$, then $f(a) -x(a) = \neg f(a) = f(\neg a)$. 
  So we can define the subset $G'\subseteq A$ given by 
  \begin{equation}
    G' = \{a | a\in G, x(a) = 0\} \cup \{\neg a | a \in G, x(a) = 1\}
  \end{equation} 
  $G'$ is in bijection with $G$, hence countable. 
  Furthermore, $x(g) = 0$ for all $g\in G'$. 
  And $R = f(G')$.
\end{proof}
