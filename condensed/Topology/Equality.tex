
\subsection{Stone spaces as profinite sets}
\rednote{WIP on 26 nov (for printing purposes)}
%\begin{remark}\label{StoneClosedUnderPullback}
%  Note that Boolean algebras are closed under finite colimits. 
%  By \Cref{ODiscBAareBoole} and \Cref{ODiscFiniteColim}, $\Boole$ is closed under finite colimits.
%  By \Cref {SpIsAntiEquivalence}  it follows that the category of Stone spaces is closed under finite limits. 
%\end{remark}
Here we present Stone spaces as limits of $(\N,\geq)$-indexed sequences of finite sets. 
This is the perspective taken in Condensed Mathematics \cite{Condensed,Dagur,Scholze}.
\begin{lemma}
  Any $S:\Stone$ can be described as the limit of some $(\N,\geq)$-indexed sequence of 
  finite sets. 
\end{lemma}
\begin{proof}
  Let $B:\Boole$ and $B_n$ as in \Cref{BooleIsODisc}. 
  Then any Boolean map $B\to 2$ is the limit of Boolean maps $B_n \to 2$, 
  which form finite sets.
\end{proof}
\begin{lemma}\label{StoneAreProfinite}
  The limit of some $(\N,\geq)$-indexed sequence of finite sets is a Stone space. 
\end{lemma}
\begin{proof}
  Let $S$ be the limit of a sequence $S_n$. 
  Note that $2^S$ is the colimit of the sequence of finite Boolean algebras $2^{S_n}$.
  By \Cref{SpIsAntiEquivalence}, $Sp(2^S)$ is the limit of $Sp(2^{S_n})$.
  By Stone duality for finite sets, we have $Sp(2^{S_n}) = S_n$, hence $Sp(2^S) = S$, 
  and $S$ is Stone. 
\end{proof}
\begin{remark}
  Whenever $S:\Stone$, we shall denote $S_n$ for the underlying sequence 
  and whenever $n\leq m$, we denote $\pi_m^n$ for the maps $S_m \to S_n$, 
  and $\pi_n:S\to S_n$. 
\end{remark}


\begin{remark}\label{StoneClosedUnderPullback}\label{ProFiniteMapsFactorization}
  Dually to \Cref{ODiscFiniteColim} and \Cref{ODiscClosedUnderSequentialColimits}, 
  Stone spaces are closed under finite limits and sequential limits.
  By \Cref{decompositionInjectionSurjectionOfOdisc} and 
  \Cref{SurjectionsAreFormalSurjections} when we have a map of Stone spaces $f:S\to T$, 
  we have $(\N,\geq)$-indexed sequences $S_n,T_n$ with limits $S$ and $T$ respectively
  and maps $f_n:S_n\to T_n$ inducing $f$, and if $f$ is surjective or injective, we 
  can choose all $f_n$ to be surjective or injective respectively as well. 
\end{remark}
\begin{lemma}\label{MapsStoneToNareBounded}
  For $S:\Stone$ and $f:S \to \N$, there merely exists some $N:\N$ with $f(S)\subseteq \N_{\leq N}$. 
\end{lemma}
\begin{proof}
  For each $n:\N$, the fiber of $f$ over $n$ is a decidable subset $f_n:S \to 2$. 
  We must have that $Sp(2^S/(f_n)_{n:\N}) = \bot$, hence there exists some $N:\N$ with 
  $\bigvee_{n\leq N} f_n =_{2^S} 1 $. 
  It follows that $f(s)\leq N$ for all $s:S$ as required. 
\end{proof}
%
\begin{lemma}
  For $S:\Stone$, $k:\N$ we have that ${Fin(k)}^S$ is the colimit of the $(\N,\leq)$-indexed sequence
  $Fin(k)^{S_n}$.
\end{lemma}
\begin{proof}
  For $k = 0$, this is obvious. 
  Assume the above for $k = l$. As $Fin(l+1) = Fin(l) + 1$, 
  a map $S\to Fin(l+1)$ induces a map $S\to 2$, 
  and $2^S$ is the colimit of $2^{S_n}$.

\end{proof}

\rednote{Should we mention Scott continuity and Barton-Commelin explicitly here?}
\begin{lemma}\label{scott-continuity}
  Let $E:\ODisc$ and $S:\Stone$, then 
  Then $E^S$ is the colimit of the $(\N,\leq)$-indexed sequence $E^{S_n}$.
%  $\mathrm{colim}_k(Z^{S_k}) \to \Z^S$
%  is an equivalence.
\end{lemma}
\begin{proof}
  Let $f:S \to E$. By \Cref{OdiscQuotientCountableByOpen}, 
  we have an enumeration $\N\twoheadrightarrow 1 + E$. 
  By \Cref{MapsStoneToNareBounded} and \Cref{AxLocalChoice}, there is some $N:\N$ such that 
  $f(S)\subseteq e(\N_{\leq N})$. 




\end{proof} 

\subsection{$\Closed$ and $\Stone$}
%\begin{lemma}\label{BooleEqualityOpen}
%  Whenever $B:\Boole$, $a,b:B$ the proposition $a=_Bb$ is open. 
%\end{lemma}
%\begin{proof}
%  Let $G,R$ be the generators and relations of $B$. 
%  Let $a,b$ be represented by $x,y$ in the free Boolean algebra on $G$. 
%  Now let $R_n$ denote the first $n$ elements of $R$. 
%  Note that $a=b$ iff there exists some $n:\N$ with $x-y \leq \bigvee_{r\in R_n} r$. 
%  Furthermore, inequality is decidable in the free Boolean algebra, hence
%  $a=b$ is a countable disjunction of decidable propositions, hence open. 
%\end{proof}

\begin{corollary}\label{TruncationStoneClosed}
  Whenever $S:\Stone$, $||S||$ is closed. 
\end{corollary}
\begin{proof}
  By \Cref{SpectrumEmptyIff01Equal}, $\neg S$ is equivalent to $0=_B 1$, which is open by the above. 
  Hence $\neg \neg S$ is a closed proposition, and by \Cref{LemSurjectionsFormalToCompleteness}, so is $||S||$. 
\end{proof}
%\begin{remark}\label{ExplicitTruncationStoneClosed}
%  \rednote{New check later}
%  The above lemma and corollary actually show that if we have an explicit 
%  presentation of a Stone space as $S = Sp(2[G] / R)$, 
%  we can construct an explicit sequence $\alpha:2^\N$ such that $||S|| \leftrightarrow \forall_{n:\N} \alpha(n) = 0$. 
%\end{remark}


\begin{corollary}\label{PropositionsClosedIffStone}
  A proposition $P$ is closed iff it is a Stone space. 
\end{corollary}
\begin{proof}
  By the above, if $S$ is both a Stone space and a proposition, it is closed. 
  By \Cref{ClosedPropAsSpectrum}, any closed proposition is Stone. 
\end{proof}

\begin{lemma}\label{StoneEqualityClosed}
  Whenever $S:\Stone$, and $s,t:S$, the proposition $s=t$ is closed. 
\end{lemma}
\begin{proof}
  Suppose $S= Sp(B)$ and let $G$ be the generators of $B$. 
  Note that $s=t$ iff $s(g) =_2 t(g)$ for all $g:G$. 
  As $G$ is countable, and equality in $2$ is decidable, 
  $s=t$ is a countable conjunction of decidable propositions, hence 
  closed. 
\end{proof}
%
The following question was asked by Bas Spitters at TYPES 2024:
\begin{corollary}
  For $S:\Stone$ and $x,y,z:S$ 
  \begin{equation}\label{Apartness}
  x \neq y \to (x\neq z \vee y \neq z)
  \end{equation}
\end{corollary}
\begin{proof}
  As $x\neq y$, we can show that $\neg ( x = z \wedge y = z)$. 
  This in turn implies $\neg \neg ( x \neq  z \vee y \neq  z)$. 
  As, $x\neq z$ and $y \neq z$ are both open propositions, by \Cref{OpenCountableDisjunction} so is their disjunction. 
  By \Cref{rmkOpenClosedNegation}, that disjunction is double negation stable and \Cref{Apartness} follows. 
\end{proof}
\begin{remark}
  If \Cref{Apartness} holds in a type, we say that it's inequality is an apartness relation. 
  By a similar proof as above, it can be shown that in our setting inequality is an apartness relation 
  as soon as equality is open or closed. 
\end{remark}
