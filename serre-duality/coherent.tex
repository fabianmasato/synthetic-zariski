
Classically, there is no abelian category of coherent $\mathcal O_X$-modules over a general base.
Synthetically, the category of finitely presented modules over $R$ does not have all kernels,
since $R$ is not coherent, so module bundles with values in finitely presented modules are not abelian.

This section is about finding a suitable replacement category.

\begin{theorem}
  For an $R$-module $M$ let $M^\ast\colonequiv \Hom_{\Mod{R}}(M,R)$ be its dual.
  Then dualizing a finite co-presentation of $M$:
  \[ M \hookrightarrow R^n \to R^m \]
  yields a finite presentation:
  \[ R^m \to R^n \twoheadrightarrow M^\ast \]
  This induces an anti equivalence between finitely presented $R$-modules and finitely co-presented $R$-modules.
\end{theorem}

\begin{proof}
  \cite{etale-draft}
\end{proof}

\begin{lemma}
  \label{presentation-extension}
  Let $M,N$ be finitely presented and $f:M\to N$.
  Then there is an extension of this morphism to all presentations of $M$ and $N$:
  \begin{center}
    \begin{tikzcd}
      R^{m'}\ar[r]\ar[d,dotted,"\exists"] & R^m\ar[->>,r,"\pi_M"]\ar[d,dotted,"\exists"] & M\ar[d, "f"] \\ 
      R^{n'}\ar[r] & R^n\ar[->>,r,"\pi_N"] & N \\ 
    \end{tikzcd}
  \end{center}
  By dualizing, the analogous statement holds for finitely co-presented modules.
\end{lemma}

\begin{proof}
  By linear extension: For a standard basis vector $e_i:R^m$ we merely have $y:R^n$ such that $\pi_N(y)=f(\pi_M(e_i))$. By exactness, we also get $R^{m'}\to R^{n'}$ by linear extension.
\end{proof}

\begin{lemma}
  \rednote{Unfortunately, the proof below is wrong...}
  Let $f:M\to M'$ and $g:N\to N'$ be morphisms of fintely presented modules, then for any morphism
  $k:\ker{f}\to \ker{g}$ there are the following morphisms:
  \begin{center}
    \begin{tikzcd}
      \ker{f}\ar[r,hook]\ar[d,"k"] & M\ar[r,"f"]\ar[d,dotted,"\exists"] & M'\ar[d,dotted,"\exists"] \\
      \ker{g}\ar[r,hook] & N\ar[r,"g"] & N'
    \end{tikzcd}
  \end{center}
\end{lemma}

\begin{proof}
  Assume presentations for $M,M',N,N'$ with cokernel maps $\pi_M,\pi_{M'},\pi_N,\pi_{N'}$.
  Pullbacks of $R$-modules preserve surjections and injections, so we get a finite co-presentation of the pullback $P_f$ \rednote{WRONG}:
  \begin{center}
    \begin{tikzcd}
      P_f\ar[r,hook]\ar[d] & R^m\ar[r,dotted]\ar[d,"\pi_M"] & R^{m'}\ar[d,"\pi_{M'}"] \\
      \ker{f}\ar[r,hook] & M\ar[r,"f"] & M'
    \end{tikzcd}
  \end{center}
  -- where the dotted arrow is given by \cref{presentation-extension}.
  Analogously, we get a finite co-presentation of the pullback $P_g$ and then a lift $\tilde{k}:P_f\to P_g$ of $k$.
  By \cref{presentation-extension}, $\tilde{K}$ extends to a morphism of co-presentations:
  \begin{center}
    \begin{tikzcd}
      P_f\ar[d,"\tilde{k}"]\ar[r,hook] & R^m\ar[r]\ar[d,dotted,"\exists\phi"] & R^{m'}\ar[d,dotted,"\exists\psi"] \\
      P_g\ar[r,hook] & R^n\ar[r] & R^{n'} 
    \end{tikzcd}
  \end{center}
  Then we get the morphisms claimed in the lemma by the universal property of cokernels and the squares commute by direct computation.
\end{proof}

Due to lack of a better name, we call the following modules coherent --
the idea is that they might yield an analogue of the algebro-geometric notion of coherent sheaf of modules

\begin{definition}
  Let $M$ be an $R$-module, then $M$ is called coherent, if it is in the closure of the subcategory of all $R$-modules, spanned by finite free modules and taking kernels and cokernels.
\end{definition}

\begin{theorem}
  Coherent modules are an abelian category.
\end{theorem}

\begin{remark}
  Any coherent $R$-module is wqc.
\end{remark}

\begin{remark}
  \label{hom-closure}
  \rednote{This should be recheked for the current definition of coherent}
  For coherent $R$-modules $M,N$, the $R$-module $\Hom_{\Mod{R}}(M,N)$ is coherent.
\end{remark}

\begin{proof}
  In \cite{lombardi-quitte}[Chapter IV, 4.12], ``coherent'' means something else, but their proof can still be applied twice to show the statement of the remark as follows.
  
  First we use their proof to show that for finitely presented $R$-modules $M,N$ the $R$-module $\Hom_{\Mod{R}}(M,N)$ is coherent. Morphisms $f:M\to N$ are presented by squares:
  \begin{center}
  \begin{tikzcd}
        R^m \ar[r]\ar[d,"\varphi"] & R^{m'}\ar[d,"\psi"] \\
        R^n\ar[r] & R^{n'}
\end{tikzcd}
\end{center}
  So we have a finite free module of pairs of morphisms $(\varphi,\psi)$ and a submodule of pairs such that the square above commtes.
  This submodule $S$ is the kernel of a linear map and therefore coherent.
  We have a surjection $\pi:S\to \Hom_{\Mod{R}}(M,N)$, so $\Hom_{\Mod{R}}(M,N)$ is coherent,
  if $\pi$ is a cokernel of a map of coherent modules.
  This is the case, since there is a surjection onto $\ker{\pi}$ from the finite free $R$-module of linear maps which splitting the square:
  \begin{center}
  \begin{tikzcd}
        R^m \ar[r]\ar[d,"\varphi"] & R^{m'}\ar[d,"\psi"]\ar[ld,"s"] \\
        R^n\ar[r] & R^{n'}
\end{tikzcd}
\end{center}

  Then we can reuse the same argument to show the statement of the remark.
\end{proof}

\paragraph{Questions:}
\begin{enumerate}
\item Are coherent modules closed under $\Hom$?
\item Are coherent modules closed under $\_\otimes\_$?
\item \label{coherent-local} Is a locally coherent $R$-module coherent?
\item Are projective/proper/finite-scheme products of coherent modules coherent?
\item Are the cohomology groups of coherent module bundles on projective schemes coherent?
\end{enumerate}

\paragraph{Answers:}
  \rednote{This should be recheked for the current definition of coherent}
\begin{enumerate}
\item Yes, \cref{hom-closure}.
\item It could be possible to just use the result for finitely presented modules, by extending the extension properties above to bilinear maps.
\item None so far
\item Partial answer:
\begin{enumerate}
\item Let $X$ be a finite scheme, i.e. $X$ an affine scheme such that $R^X$ is a finitely presented $R$-module.
  For any coherent $R$-module $M$, $M^X$ is coherent: We can exponentiate the diagram witnessing coherence.
  Exponentiating is left exact and since $M$ is wqc and $X$ affine, it is also right exact.
\item Let $M:X\to \Mod{R}_{\mathrm{coh}}$ for a finite scheme $X$. Then $(x:X)\to M_x$ would be a coherent $R$-module, if we have \cref{coherent-local}: By local choice, we get a cover $D(f_1),\dots,D(f_n)$ of $X$, such that coherence of $M$ is witnessed by a diagram $M\hookrightarrow N \to L$ with $N,L$ finitely presented. By \cite{draft}[Theorem 7.2.3], $(x:D(f_i))\to N_x$ and $(x:D(f_i))\to L_x$ are finitely presented $R^{D(f_i)}$-modules and therefore finitely presented $R$-modules and the dependent product is a left exact functor.
\end{enumerate}
\item None so far
\end{enumerate}
