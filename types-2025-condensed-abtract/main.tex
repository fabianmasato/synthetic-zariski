% latexmk -pdf -pvc main.tex
% latexmk -pdf -pvc -interaction=nonstopmode main.tex
\documentclass{../util/zariski}

\RequirePackage[safe]{tipa}
%
\title{Synthetic Stone Duality 
}

% Authors are joined by \and. 
% Their affiliations are given by \inst, which indexes
% into the list defined using \institute
%
\author{
Felix Cherubini %\inst{1}
% uncomment the following for multiple authors.
\and 
 Thierry Coquand% \inst{2}%
\and 
 Freek Geerligs% \inst{3}%
% \thanks{Speaker.}%
\and
 Hugo Moeneclaey %\inst{4}%
}

% Institutes for affiliations are also joined by \and,
% \institute{
%  University of Gothenburg and Chalmers University of Technology, Gothenburg, Sweden%\\
% }

% \authorrunning{Cherubini, Coquand, Geerligs and Moeneclaey}

\title{Cohomology in Synthetic Stone Duality}

\begin{document}
\maketitle
Peter Scholze and Dustin Clausen \cite{Scholze} introduced light condensed sets which can be used as an alternative to topological spaces. Light condensed sets are defined as sheaves on profinite sets.
Inspired by the interpretation of homotopy type theory into the higher topos on this site, \cite{synthetic-stone-duality} introduced an extension of homotopy type theory by axioms which is called synthetic stone duality. In this theory some results where shown about the first cohomology group with integer coefficients. We extend these results to higher cohomology groups with non-constant countably presented abelian groups as coefficients.

In topology, a Stone space is a totally disconnected Hausdorff space. In \textbf{synthetic stone duality}, a Stone space is a profinite set in the sense of a sequential limit of finite sets, so from a classical point of view only Stone spaces up to a certain size are considered. The axioms of synthetic stone duality postulate stone duality, depedent choice, that non-empty stone spaces are inhabited and a \emph{local-choice} axiom. The latter is the only axiom mentioning higher types and, analogous to the axiom of choice admits to find sections to some surjection by passing to certain kinds of covers. This is necessary to perferm the cohomological computations mentioned below, but has consequences beyond that.

Many classically known topological properties of Stone spaces can be shown synthetically, sometimes phrased in a more type theoretic way, like, for example, the closure of Stone spaces under sigma types.
Open and closed subsets can be defined for arbitrary types and compact Hausdorff spaces can be defined as quotients of Stone spaces by a closed equivalence relation.
One important example is the real interval $\I$ from which the real numbers $\R$ are constructed.
As in \cite{shulman-Brouwer-fixed-point} it is important to distinguish topological spaces like $\bS^1:=\{(x,y):\R^2\vert x^2+y^2=1\}$ from homotopical spaces like the higher inductive 1-type $S^1$.
The sets

It is however possible to use higher types to reason about topological spaces.
For any abelian group $A$, the homotopical Eilenberg-MacLane spaces $K(A,n)$ can be constructed in homotopy type theory. For any type $X$ and depedent abelian group $A:X\to \mathrm{Ab}$, we use the known definition of the $n$-th cohomology group $H^n(X,A)$ as $\|(x:X)\to K(A_x,n)\|_0$, which is also an interesting invariant of topological spaces. In \cite{synthetic-stone-duality} it is calculated that $H^1(\I,\Z)=0$.

\textbf{Reid Barton and Johann Commelin} proposed a system of axioms inspired by Paul Taylors abstract Stone duality, which they call condensed type theory, where compact Hausdorff spaces and overtly discrete types are related by certain duality axioms. We prove the axioms of Barton and Commelin in synthetic stone duality for a concrete definition of compact Hausdorff spaces and overtly discrete types.

We denote the type of overtly discrete types with $\ODisc$ and use overtly discrete abelian groups as coefficients for cohomology.
Important for our cohomological results is the dual of Tychonoff's theorem, which states that for a compact Hausdorff space $X$ and a family $B:X\to \ODisc$, the depedent product $(x:X)\to B(x)$ is overtly discrete and Scott continuity, which ensure a certain commutativity of sequential colimits and limits.

\section{Vanishing of higher cohomology of stone spaces}

First we prove that $H^1(S,A) = 0$ with $S$ Stone and  $A : S\to \mathrm{Ab}_\ODisc$. To do that we assume $\alpha:\prod_{x:S}K(A_x,1)$, then we proceed in 4 steps:
\begin{enumerate}[(1)]
\item By local choice we get a surjection $p:T\twoheadrightarrow S$ with $T$ Stone which trivialise $\alpha$.
\item We get an approximation of $p$ as a sequential limit of surjective maps $p_k:T_k\to S_k$ between finite sets.
\item We show that the trivialisation of the induced $\alpha_k:S_k\to BA_k$ over $T_k$ induced by $p_k$ gives a trivialisation of $\alpha_k$, essentially using that $p_k$ merely has a section.
\item We conclude through a dependent version of Scott Continuity that $\alpha$ is trivial over $\mathrm{lim}_kS_k =S$.
\end{enumerate}

We follow an idea of WÃ¤rn \cite{cech-draft}[Theorem 3.4] to go from the $H^1(S,A)=0$ to $H^n(S,A)=0$ for $n>1$. The key idea is to proceed by induction on $n$, generalising the induction hypothesis from $H^n(S,A) = 0$ to: 
\begin{itemize}
\item $K(\prod_{x:S}A_x,n) \to \prod_{x:S}K(A_x,n)$ is an equivalence.
\item $K(\prod_{x:S}A_x,n+1) \to \prod_{x:S}K(A_x,n+1)$ is an embedding.
\end{itemize}
Assume the hypothesis for $n-1>0$, let's prove it for $n$. The embedding follows immediately from induction hypothesis on the equivalence. To prove the equivalence hypothesis we just need surjectivity, so it is enough to prove $\prod_{x:S}K(A_x,n)$ is connected, i.e. $H^n(S,A)=0$. We assume $\alpha:\prod_{x:S}K(A_x,n)$, by local choice we get a trivialisation $p:T\twoheadrightarrow S$ of $\alpha$ with $T$ Stone. Then writing $T_x$ the fiber of $p$ over $x$, we consider the exact sequence:
\[0\to A_x\to A_x^{T_x}\to L_x\to 0\]
giving a sequence:
\[H^{n-1}(S,L)\to H^n(S,A)\to H^n(S,\lambda x. A_x^{T_x})\]
exact at $H^n(S,A)$. By induction hypothesis $H^{n-1}(S,L) = 0$ so we have an injection:
\[H^n(S,A)\to H^n(S,\lambda x. A_x^{T_x})\]
By induction hypothesis again the map: 
\[\prod_{x:S}K(A_x^{T_x},n)\to \prod_{x:S}K(A_x,n)^{T_x}\]
is an embedding so the map:
\[H^n(S,\lambda x. A_x^{T_x}) \to H^n(\Sigma_{x:S}T_x,A_x)\]
is an injection and we get an injection:
\[H^n(S,A)\to H^n(\Sigma_{x:S}T_x,A_x)\] 
But $p$ trivialise $\alpha$ so it vanish in $H^n(\Sigma_{x:S}T_x,A_x)$, therefore $\alpha=0$.

\section{\v{C}ech cohomology}

Given a type $X$, a \v{C}ech cover for $X$ consists of a Stone space $S$ and a surjective map $p:S\twoheadrightarrow X$ which fibers $S_x$ are Stone. It is immediate that compact Hausdorff space have a \v{C}ech cover.

Given such a \v{C}ech cover and $A:X\to \mathrm{Ab}_\ODisc$. we define the \v{C}ech complex as:
\[\prod_{x:X}A_x^{S_x} \to \prod_{x:X}A_x^{S_x\times S_x} \to \cdots\]
with the boundary maps defined as expected, and the \v{C}ech cohomology $\check{H}^k(X,A)$ as the $k$-th homology group of the \v{C}ech complex.
%\[\delta(\alpha)(x,u_0,\cdots,u_n) = \sum_{i=0}^n (-1)^i\alpha(x,u_0,\cdots,\hat{u_i},\cdots,u_n)\]

From vanishing, for all $n$ we get an exact sequences:
\[H^{n-1}(X,\lambda x.A_x^{S_x}) \to H^{n-1}(X,L)\to H^n(X,A)\to 0\]
and by the usual long exact sequence argument and direct computations we get exact sequences:
\[\check{H}^{n-1}(X,\lambda x.A_x^{S_x}) \to \check{H}^{n-1}(X,L)\to \check{H}^n(X,A)\to 0\]

We conclude inductively that $H^n(X,A) = \check{H}^n(X,A)$, so that in particular \v{C}ech cohomology do not depend on a choice of \v{C}ech cover. For this induction to go through it is crucial that $A_x^{S_x}$ is overtly discrete, which follows from the dual to Tychonov theorem.

Using finite approximations to the \v{C}ech cover $2^\N\to \mathbb{I}$, we can check that $H^n(\mathbb{I},A) = 0$ for all $A:\mathbb{I}\to \mathrm{Ab}_\ODisc$.

\printbibliography

\end{document}
